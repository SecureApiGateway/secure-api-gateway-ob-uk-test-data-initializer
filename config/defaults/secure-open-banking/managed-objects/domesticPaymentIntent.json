[
  {
      "operation": "add",
      "field": "objects/-",
      "value": {
        "name": "domesticPaymentIntent",
        "schema": {
          "$schema": "http://forgerock.org/json-schema#",
          "type": "object",
          "title": "Domestic Payment Intent",
          "description": "Domestic Payment Intent",
          "icon": "fa-money",
          "properties": {
            "Data": {
              "title": "Data",
              "type": "object",
              "viewable": true,
              "searchable": true,
              "userEditable": true,
              "properties": {
                "ConsentId": {
                  "title": "Payment Intent Id",
                  "type": "string",
                  "viewable": true,
                  "searchable": true,
                  "userEditable": true
                },
                "CreationDateTime": {
                  "title": "Creation Date Time",
                  "type": "string",
                  "viewable": true,
                  "searchable": true,
                  "userEditable": true
                },
                "Status": {
                  "title": "Payment Intent Status",
                  "type": "string",
                  "viewable": true,
                  "searchable": true,
                  "userEditable": true,
                  "description": "Payment Intent Status",
                  "minLength": null,
                  "isVirtual": false
                },
                "StatusUpdateDateTime": {
                  "title": "Status Update Date Time",
                  "type": "string",
                  "viewable": true,
                  "searchable": true,
                  "userEditable": true,
                  "description": null,
                  "minLength": null,
                  "isVirtual": false
                },
                "ExpectedExecutionDateTime": {
                  "title": "Expected Execution Date Time",
                  "type": "string",
                  "viewable": true,
                  "searchable": false,
                  "userEditable": true,
                  "description": null,
                  "minLength": null,
                  "isVirtual": false
                },
                "ExpectedSettlementDateTime": {
                  "title": "Expected Settlement Date Time",
                  "type": "string",
                  "viewable": true,
                  "searchable": false,
                  "userEditable": true,
                  "description": null,
                  "minLength": null,
                  "isVirtual": false
                },
                "CutOffDateTime": {
                  "title": "Cut Off Date Time",
                  "type": "string",
                  "viewable": true,
                  "searchable": false,
                  "userEditable": true,
                  "description": null,
                  "minLength": null,
                  "isVirtual": false
                },
                "Charges": {
                  "title": "Charges",
                  "type": "string",
                  "viewable": true,
                  "searchable": false,
                  "userEditable": true,
                  "description": null,
                  "minLength": null,
                  "isVirtual": false
                },
                "Initiation": {
                  "title": "Initiation",
                  "type": "object",
                  "viewable": true,
                  "searchable": false,
                  "userEditable": true,
                  "properties": {
                    "InstructionIdentification": {
                      "title": "Instruction Identification",
                      "type": "string",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "description": null,
                      "minLength": null,
                      "isVirtual": false
                    },
                    "EndToEndIdentification": {
                      "title": "End To End Identification",
                      "type": "string",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "description": null,
                      "minLength": null,
                      "isVirtual": false
                    },
                    "LocalInstrument": {
                      "title": "Local Instrument",
                      "type": "string",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "description": null,
                      "minLength": null,
                      "isVirtual": false
                    },
                    "InstructedAmount": {
                      "title": "Instructed Amount",
                      "type": "object",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "properties": {
                        "Amount": {
                          "title": "Amount",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "Currency": {
                          "title": "Currency",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        }
                      },
                      "order": [
                        "Amount",
                        "Currency"
                      ],
                      "description": null,
                      "isVirtual": false,
                      "required": [
                        "Amount",
                        "Currency"
                      ],
                      "nullable": false
                    },
                    "DebtorAccount": {
                      "title": "Debtor Account",
                      "type": "object",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "properties": {
                        "SchemeName": {
                          "title": "Scheme Name",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "Identification": {
                          "title": "Debtor Identification",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": "Debtor Identification",
                          "minLength": null,
                          "isVirtual": false
                        },
                        "Name": {
                          "title": "Name",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "SecondaryIdentification": {
                          "title": "Secondary Identification",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        }
                      },
                      "order": [
                        "SchemeName",
                        "Identification",
                        "Name",
                        "SecondaryIdentification"
                      ],
                      "description": null,
                      "isVirtual": false,
                      "nullable": false
                    },
                    "CreditorAccount": {
                      "title": "Creditor Account",
                      "type": "object",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "properties": {
                        "SchemeName": {
                          "title": "Scheme Name",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "Identification": {
                          "title": "Creditor Identification",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": "Creditor Identification",
                          "minLength": null,
                          "isVirtual": false
                        },
                        "Name": {
                          "title": "Name",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "SecondaryIdentification": {
                          "title": "Secondary Identification",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        }
                      },
                      "order": [
                        "SchemeName",
                        "Identification",
                        "Name",
                        "SecondaryIdentification"
                      ],
                      "description": null,
                      "isVirtual": false,
                      "required": [
                        "SchemeName",
                        "Identification",
                        "Name"
                      ],
                      "nullable": false
                    },
                    "CreditorPostalAddress": {
                      "title": "Creditor Postal Address",
                      "type": "object",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "properties": {
                        "AddressType": {
                          "title": "Address Type",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "Department": {
                          "title": "Department",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "SubDepartment": {
                          "title": "SubDepartment",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "StreetName": {
                          "title": "Street Name",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "BuildingNumber": {
                          "title": "Building Number",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "PostCode": {
                          "title": "Post Code",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "TownName": {
                          "title": "Town Name",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "CountrySubDivision": {
                          "title": "Country Sub Division",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "Country": {
                          "title": "Country",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "AddressLine": {
                          "title": "Address Line",
                          "type": "array",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "items": {
                            "type": "string"
                          }
                        }
                      },
                      "order": [
                        "AddressType",
                        "Department",
                        "SubDepartment",
                        "StreetName",
                        "BuildingNumber",
                        "PostCode",
                        "TownName",
                        "CountrySubDivision",
                        "Country",
                        "AddressLine"
                      ],
                      "description": null,
                      "isVirtual": false,
                      "nullable": false
                    },
                    "RemittanceInformation": {
                      "title": "Remittance Information",
                      "type": "object",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "properties": {
                        "Unstructured": {
                          "title": "Unstructured",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        },
                        "Reference": {
                          "title": "Reference",
                          "type": "string",
                          "viewable": true,
                          "searchable": false,
                          "userEditable": true,
                          "description": null,
                          "minLength": null,
                          "isVirtual": false
                        }
                      },
                      "order": [
                        "Unstructured",
                        "Reference"
                      ],
                      "description": null,
                      "isVirtual": false,
                      "nullable": false
                    },
                    "SupplementaryData": {
                      "title": "Supplementary Data",
                      "type": "object",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "properties": {},
                      "order": []
                    }
                  },
                  "order": [
                    "InstructionIdentification",
                    "EndToEndIdentification",
                    "LocalInstrument",
                    "InstructedAmount",
                    "DebtorAccount",
                    "CreditorAccount",
                    "CreditorPostalAddress",
                    "RemittanceInformation",
                    "SupplementaryData"
                  ],
                  "description": null,
                  "isVirtual": false,
                  "nullable": false
                },
                "Authorisation": {
                  "title": "Authorisation",
                  "type": "object",
                  "viewable": true,
                  "searchable": false,
                  "userEditable": true,
                  "properties": {
                    "AuthorisationType": {
                      "title": "Authorisation Type",
                      "type": "string",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "description": null,
                      "minLength": null,
                      "isVirtual": false
                    },
                    "CompletionDateTime": {
                      "title": "Completion Date Time",
                      "type": "string",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "description": null,
                      "minLength": null,
                      "isVirtual": false
                    }
                  },
                  "order": [
                    "AuthorisationType",
                    "CompletionDateTime"
                  ],
                  "description": null,
                  "isVirtual": false,
                  "nullable": false
                }
              },
              "order": [
                "ConsentId",
                "CreationDateTime",
                "Status",
                "StatusUpdateDateTime",
                "ExpectedExecutionDateTime",
                "ExpectedSettlementDateTime",
                "CutOffDateTime",
                "Charges",
                "Initiation",
                "Authorisation"
              ],
              "description": "Data",
              "isVirtual": false,
              "nullable": false
            },
            "Risk": {
              "title": "Risk",
              "type": "object",
              "viewable": true,
              "searchable": false,
              "userEditable": true,
              "properties": {
                "PaymentContextCode": {
                  "title": "Payment Context Code",
                  "type": "string",
                  "viewable": true,
                  "searchable": false,
                  "userEditable": true,
                  "description": null,
                  "minLength": null,
                  "isVirtual": false
                },
                "MerchantCategoryCode": {
                  "title": "Merchant Category Code",
                  "type": "string",
                  "viewable": true,
                  "searchable": false,
                  "userEditable": true,
                  "description": null,
                  "minLength": null,
                  "isVirtual": false
                },
                "MerchantCustomerIdentification": {
                  "title": "Merchant Customer Identification",
                  "type": "string",
                  "viewable": true,
                  "searchable": false,
                  "userEditable": true,
                  "description": null,
                  "minLength": null,
                  "isVirtual": false
                },
                "DeliveryAddress": {
                  "title": "Delivery Address",
                  "type": "object",
                  "viewable": true,
                  "searchable": false,
                  "userEditable": true,
                  "properties": {
                    "AddressLine": {
                      "title": "Address Line",
                      "type": "array",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "items": {
                        "type": "string"
                      }
                    },
                    "StreetName": {
                      "title": "Street Name",
                      "type": "string",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "description": null,
                      "minLength": null,
                      "isVirtual": false
                    },
                    "BuildingNumber": {
                      "title": "Building Number",
                      "type": "string",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "description": null,
                      "minLength": null,
                      "isVirtual": false
                    },
                    "PostCode": {
                      "title": "Post Code",
                      "type": "string",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "description": null,
                      "minLength": null,
                      "isVirtual": false
                    },
                    "TownName": {
                      "title": "Town Name",
                      "type": "string",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "description": null,
                      "minLength": null,
                      "isVirtual": false
                    },
                    "CountrySubDivision": {
                      "title": "Country Sub Division",
                      "type": "array",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "items": {
                        "type": "string"
                      }
                    },
                    "Country": {
                      "title": "Country",
                      "type": "string",
                      "viewable": true,
                      "searchable": false,
                      "userEditable": true,
                      "description": null,
                      "minLength": null,
                      "isVirtual": false
                    }
                  },
                  "order": [
                    "AddressLine",
                    "StreetName",
                    "BuildingNumber",
                    "PostCode",
                    "TownName",
                    "CountrySubDivision",
                    "Country"
                  ],
                  "description": null,
                  "isVirtual": false,
                  "required": [
                    "TownName",
                    "Country"
                  ],
                  "nullable": false
                }
              },
              "order": [
                "PaymentContextCode",
                "MerchantCategoryCode",
                "MerchantCustomerIdentification",
                "DeliveryAddress"
              ],
              "description": null,
              "isVirtual": false,
              "nullable": false
            },
            "user": {
              "title": "User",
              "type": "relationship",
              "viewable": true,
              "searchable": false,
              "userEditable": false,
              "returnByDefault": false,
              "reverseRelationship": true,
              "reversePropertyName": "domesticPaymentIntents",
              "validate": false,
              "properties": {
                "_ref": {
                  "type": "string"
                },
                "_refProperties": {
                  "type": "object",
                  "properties": {
                    "_id": {
                      "type": "string",
                      "required": false,
                      "propName": "_id"
                    }
                  }
                }
              },
              "resourceCollection": [
                {
                  "path": "managed/user",
                  "label": "User",
                  "query": {
                    "queryFilter": "true",
                    "fields": [
                      "userName",
                      "mail"
                    ],
                    "sortKeys": []
                  }
                }
              ],
              "description": null
            },
            "apiClient": {
              "title": "TPP Application",
              "type": "relationship",
              "viewable": true,
              "searchable": false,
              "userEditable": false,
              "returnByDefault": false,
              "reverseRelationship": true,
              "reversePropertyName": "domesticPaymentIntents",
              "validate": false,
              "properties": {
                "_ref": {
                  "type": "string"
                },
                "_refProperties": {
                  "type": "object",
                  "properties": {
                    "_id": {
                      "type": "string",
                      "required": false,
                      "propName": "_id"
                    }
                  }
                }
              },
              "resourceCollection": [
                {
                  "path": "managed/apiClient",
                  "label": "Apiclient",
                  "query": {
                    "queryFilter": "true",
                    "fields": [
                      "name"
                    ],
                    "sortKeys": []
                  },
                  "notify": false
                }
              ],
              "description": null,
              "requiredByParent": false,
              "isVirtual": false,
              "notifySelf": false,
              "referencedRelationshipFields": null,
              "referencedObjectFields": null,
              "deleteQueryConfig": false
            }
          },
          "order": [
            "Data",
            "Risk",
            "user",
            "apiClient"
          ],
          "required": [
            "Data",
            "Risk"
          ]
        },
        "iconClass": "fa fa-database",
        "type": "Managed Object",
        "postCreate": {
          "type": "text/javascript",
          "globals": {},
          "source": "object.Data.ConsentId = object._id\nopenidm.update(resourceName.toString(),null, object)"
        }
      }
    }
]
